<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta
            name="viewport"
            content="initial-scale=1.0, user-scalable=no, width=device-width"
        />
        <title>My Markers</title>

        <link
            href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="http://cache.amap.com/lbs/static/main1119.css"
        />

        <script src="//cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>
        <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

        <script
            type="text/javascript"
            src="http://webapi.amap.com/maps?v=1.3&key="
        ></script>

        <script
            type="text/javascript"
            src="http://cache.amap.com/lbs/static/addToolbar.js"
        ></script>
    </head>
    <body>
        <div id="container"></div>
        <script type="text/javascript">
            var map = new AMap.Map("container", { resizeEnable: true });

            var infoWindow = new AMap.InfoWindow({ offset: new AMap.Pixel(0, -30) });

            (function () {
    var marker = new AMap.Marker({
        position: [114.268, 22.332],
        map: map,
    });

    marker.content = "<h3> HKUST </h3>";
    marker.content += `<button onclick="location.href='https://www.ust.hk/home'">Details</button>`;

    marker.on("mouseover", infoOpen);
    // marker.emit('mouseover', {target: marker});
    marker.on("mouseout", infoClose);
    marker.on("click", newMAp);
})();


            function newMAp(e) {
              //map.setCenter(e.target.getPosition());
              map.setZoomAndCenter(15, e.target.getPosition());

              var infoWindow = new AMap.InfoWindow({
                offset: new AMap.Pixel(0, -30),
              });
              infoWindow.setContent(e.target.content);
              infoWindow.open(map, e.target.getPosition());
            }

            function infoClose(e) {
              infoWindow.close(map, e.target.getPosition());
            }

            function infoOpen(e) {
              infoWindow.setContent(e.target.content);
              infoWindow.open(map, e.target.getPosition());
            }
            map.setFitView();
        </script>
    </body>
</html>
